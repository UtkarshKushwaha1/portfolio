{"version":3,"file":"omnedia-ngx-timeline.mjs","sources":["../../../projects/ngx-timeline/src/lib/ngx-timeline.component.ts","../../../projects/ngx-timeline/src/lib/ngx-timeline.component.html","../../../projects/ngx-timeline/src/public-api.ts","../../../projects/ngx-timeline/src/omnedia-ngx-timeline.ts"],"sourcesContent":["import {CommonModule} from \"@angular/common\";\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  QueryList,\r\n  Renderer2,\r\n  signal,\r\n  ViewChild,\r\n  ViewChildren,\r\n} from \"@angular/core\";\r\nimport {DomSanitizer} from \"@angular/platform-browser\";\r\nimport {Subject, takeUntil} from \"rxjs\";\r\nimport {TimelineEntry, TimelineEntryTemplate} from \"./ngx-timeline.types\";\r\n\r\n@Component({\r\n  selector: \"om-timeline\",\r\n  templateUrl: \"./ngx-timeline.component.html\",\r\n  styleUrls: [\"./ngx-timeline.component.scss\"],\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class NgxTimelineComponent implements AfterViewInit, OnDestroy {\r\n  @ViewChild(\"wrapper\")\r\n  wrapperRef!: ElementRef<HTMLElement>;\r\n\r\n  @ViewChildren(\"entries\") entriesList!: QueryList<ElementRef<HTMLElement>>;\r\n\r\n  @ViewChild(\"timelineBackground\")\r\n  timelineBackgroundRef!: ElementRef<HTMLElement>;\r\n\r\n  @ViewChild(\"timelineLine\")\r\n  timelineLineRef!: ElementRef<HTMLElement>;\r\n\r\n  @ViewChild(\"timelineSvg\")\r\n  timelineSvgRef!: ElementRef<SVGElement>;\r\n\r\n  @ViewChild(\"timelinePath\")\r\n  timelinePathRef!: ElementRef<SVGPathElement>;\r\n\r\n  @ViewChild(\"timelineGradientPath\")\r\n  timelineGradientPathRef!: ElementRef<SVGPathElement>;\r\n\r\n  @Input(\"orientation\")\r\n  orientation: \"left\" | \"right\" | \"switch\" = \"left\";\r\n\r\n  @Input(\"styleClass\")\r\n  styleClass?: string;\r\n\r\n  @Input(\"entriesGap\")\r\n  set entriesGap(gap: string) {\r\n    this.style.set({...this.style(), '--om-timeline-entries-gap': gap});\r\n  }\r\n\r\n  @Input(\"entryGap\")\r\n  set entryGap(gap: string) {\r\n    this.style.set({...this.style(), '--om-timeline-entry-gap': gap});\r\n  }\r\n\r\n  @Input(\"titleGap\")\r\n  set titleGap(gap: string) {\r\n    this.style.set({...this.style(), '--om-timeline-entry-title-gap': gap});\r\n  }\r\n\r\n  @Input(\"pathWidth\")\r\n  set pathWidth(pathWidth: string) {\r\n    this.style.set({...this.style(), '--om-timeline-path-width': pathWidth});\r\n  }\r\n\r\n  @Input(\"titleMaxWidth\")\r\n  set titleMaxWidth(titleMaxWidth: string) {\r\n    this.style.set({...this.style(), '--om-timeline-entry-title-max-width': titleMaxWidth});\r\n  }\r\n\r\n  @Input(\"pathColor\")\r\n  set pathColorValue(pathColor: string) {\r\n    this.pathColor = pathColor;\r\n    this.style.set({...this.style(), '--om-timeline-path-color': pathColor});\r\n  }\r\n\r\n  @Input(\"gradientColors\")\r\n  set gradientColors(gradientColors: string[]) {\r\n    if (gradientColors.length !== 2) {\r\n      return;\r\n    }\r\n\r\n    this.gradientStart = gradientColors[0];\r\n    this.gradientEnd = gradientColors[1];\r\n\r\n    this.style.set({...this.style(), '--om-timeline-gradient-start': this.gradientStart});\r\n    this.style.set({...this.style(), '--om-timeline-gradient-end': this.gradientEnd});\r\n  }\r\n\r\n  gradientStart = \"#3b82f6\";\r\n  gradientEnd = \"#7f00ff\";\r\n  pathColor = \"#e2e8f0\";\r\n\r\n  @Input(\"data\")\r\n  set dataValue(data: TimelineEntry[]) {\r\n    this.data = data;\r\n    this.addViewEncapsulationTag();\r\n  }\r\n\r\n  private data: TimelineEntry[] = [];\r\n\r\n  templateData = signal<TimelineEntryTemplate[]>([]);\r\n\r\n  style = signal({});\r\n\r\n  private ngContentRef?: string;\r\n\r\n  private scrollableParent: HTMLElement | Window = window;\r\n  private scrollListener!: () => void;\r\n  private updatePending = false;\r\n\r\n  constructor(\r\n    private readonly sanitizer: DomSanitizer,\r\n    private readonly renderer: Renderer2,\r\n  ) {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.entriesList.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      setTimeout(() => {\r\n        this.setHeight();\r\n      }, 10);\r\n    });\r\n\r\n    this.getViewEncapsulationTag();\r\n    this.determineScrollContext();\r\n\r\n    this.updateTimelineLine();\r\n\r\n    window.addEventListener(\"resize\", () => this.setHeight());\r\n  }\r\n\r\n  private readonly destroy$ = new Subject<void>();\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n\r\n    this.removeScrollListener();\r\n\r\n    window.removeEventListener(\"resize\", () => this.setHeight());\r\n  }\r\n\r\n  getViewEncapsulationTag(): void {\r\n    const parent = this.wrapperRef.nativeElement.parentElement?.parentElement;\r\n\r\n    if (!parent) {\r\n      return;\r\n    }\r\n\r\n    const attributes = parent.getAttributeNames();\r\n    const ngContentRef = attributes.find((attr) =>\r\n      attr.includes(\"_ngcontent-ng\")\r\n    );\r\n\r\n    if (!ngContentRef) {\r\n      return;\r\n    }\r\n\r\n    this.ngContentRef = ngContentRef;\r\n\r\n    this.addViewEncapsulationTag();\r\n  }\r\n\r\n  addViewEncapsulationTag(): void {\r\n    if (!this.data || this.data.length <= 0 || !this.ngContentRef) {\r\n      return;\r\n    }\r\n\r\n    const templateData: TimelineEntryTemplate[] = [];\r\n\r\n    this.data.forEach((data) => {\r\n      const title = this.insertAttributeInTags(data.title);\r\n      const content = this.insertAttributeInTags(data.content);\r\n\r\n      const templateDataEntry: TimelineEntryTemplate = {\r\n        title: this.sanitizer.bypassSecurityTrustHtml(title),\r\n        content: this.sanitizer.bypassSecurityTrustHtml(content),\r\n      };\r\n\r\n      templateData.push(templateDataEntry);\r\n    });\r\n\r\n    this.templateData.set(templateData);\r\n  }\r\n\r\n  private insertAttributeInTags(inputString: string): string {\r\n    return inputString.replace(/<(\\w+)/g, `<$1 ${this.ngContentRef}`);\r\n  }\r\n\r\n  private determineScrollContext() {\r\n    let parent = this.wrapperRef.nativeElement.parentElement;\r\n    while (parent && parent !== document.body) {\r\n      const overflowY = window.getComputedStyle(parent).overflowY;\r\n      if (overflowY === \"auto\" || overflowY === \"scroll\") {\r\n        this.scrollableParent = parent;\r\n        break;\r\n      }\r\n      parent = parent.parentElement;\r\n    }\r\n    this.setupScrollListener();\r\n  }\r\n\r\n  private setupScrollListener() {\r\n    this.scrollListener = this.renderer.listen(\r\n      this.scrollableParent,\r\n      \"scroll\",\r\n      () => this.updateTimelineLine()\r\n    );\r\n  }\r\n\r\n  private removeScrollListener() {\r\n    if (this.scrollListener) {\r\n      this.scrollListener();\r\n    }\r\n  }\r\n\r\n  setHeight(): void {\r\n    if (this.orientation != \"switch\") {\r\n      const rect = this.wrapperRef.nativeElement.getBoundingClientRect();\r\n      this.timelineBackgroundRef.nativeElement.style.height = `${rect.height}px`;\r\n    } else {\r\n      this.updateSvgPath();\r\n    }\r\n    this.updateTimelineLine();\r\n  }\r\n\r\n  updateTimelineLine(): void {\r\n    if (this.updatePending) return;\r\n\r\n    this.updatePending = true;\r\n\r\n    requestAnimationFrame(() => {\r\n      this.updatePending = false;\r\n\r\n      const rect = this.wrapperRef.nativeElement.getBoundingClientRect();\r\n      const scrollHeight =\r\n        this.scrollableParent === window\r\n          ? window.innerHeight\r\n          : (this.scrollableParent as HTMLElement).clientHeight;\r\n\r\n      const topPosition =\r\n        this.scrollableParent === window\r\n          ? rect.top * -1\r\n          : (this.scrollableParent as HTMLElement).scrollTop;\r\n\r\n      if (this.orientation === \"switch\") {\r\n        let progress = topPosition / (rect.height - scrollHeight);\r\n\r\n        if (progress >= 1) {\r\n          progress = 1;\r\n        } else if (progress <= 0) {\r\n          progress = 0;\r\n        }\r\n\r\n        const length =\r\n          this.timelineGradientPathRef.nativeElement.getTotalLength();\r\n\r\n        this.timelineGradientPathRef.nativeElement.style.strokeDasharray = `${length}`;\r\n        this.timelineGradientPathRef.nativeElement.style.strokeDashoffset = `${\r\n          length * (1 - progress)\r\n        }`;\r\n\r\n        return;\r\n      }\r\n\r\n      let progress = topPosition / rect.height;\r\n\r\n      if (topPosition >= rect.height || progress >= 1) {\r\n        this.timelineLineRef.nativeElement.style.height = `${rect.height}px`;\r\n        return;\r\n      }\r\n\r\n      this.timelineLineRef.nativeElement.style.height = `${\r\n        progress * rect.height + scrollHeight * 0.5\r\n      }px`;\r\n    });\r\n  }\r\n\r\n  updateSvgPath(): void {\r\n    const path = this.calculateSvgPath();\r\n    const wrapperRect = this.wrapperRef.nativeElement.getBoundingClientRect();\r\n    this.timelineSvgRef.nativeElement.setAttribute(\r\n      \"width\",\r\n      `${wrapperRect.width - 20}`\r\n    );\r\n    this.timelineSvgRef.nativeElement.setAttribute(\r\n      \"height\",\r\n      `${wrapperRect.height}`\r\n    );\r\n    this.timelinePathRef.nativeElement.setAttribute(\"d\", path);\r\n    this.timelineGradientPathRef.nativeElement.setAttribute(\"d\", path);\r\n  }\r\n\r\n  calculateSvgPath(): string {\r\n    const entries = this.entriesList.toArray();\r\n    let path = \"\";\r\n\r\n    // Adjust the control point extensions based on screen size\r\n    const isMobile = window.innerWidth <= 1000;\r\n    const curveExtension = isMobile ? 200 : 500; // Shorter curve extensions on mobile\r\n\r\n    for (let i = 0; i < entries.length; i++) {\r\n      const entryRect = entries[i].nativeElement.getBoundingClientRect();\r\n      const wrapperRect = this.wrapperRef.nativeElement.getBoundingClientRect();\r\n      const startX = i % 2 === 0 ? 0 : wrapperRect.width - 40; // Start from 0px or the right side\r\n      const endX = i % 2 === 0 ? wrapperRect.width - 40 : 0; // End at the opposite side\r\n      const startY = entryRect.top - wrapperRect.top;\r\n      const endY = entryRect.bottom - wrapperRect.top;\r\n\r\n      if (i === 0) {\r\n        // Move to the starting point of the first entry, by 10rem (100px) above it\r\n        path += `M${startX},${startY - 160}`;\r\n      }\r\n\r\n      // Extend the straight line slightly before starting the curve\r\n      const extendedY = endY + 10;\r\n\r\n      // Draw the extended straight line\r\n      path += ` L${startX},${extendedY}`;\r\n\r\n      if (i < entries.length - 1) {\r\n        const nextEntryRect =\r\n          entries[i + 1].nativeElement.getBoundingClientRect();\r\n        const nextStartY = nextEntryRect.top - wrapperRect.top;\r\n\r\n        const controlPointY1 = extendedY + curveExtension; // Adjusted control points for mobile\r\n        const controlPointY2 = nextStartY - curveExtension;\r\n\r\n        // S-shaped curve with adjusted control points for smoother transition on mobile\r\n        path += ` C${startX},${controlPointY1} ${endX},${controlPointY2} ${endX},${nextStartY}`;\r\n      } else {\r\n        // End the path with a straight line at the last entry, but extend it by 10rem (160px)\r\n        path += ` L${startX},${endY + 160}`;\r\n      }\r\n    }\r\n\r\n    return path;\r\n  }\r\n}\r\n","<div\r\n  class=\"om-timeline\"\r\n  [ngStyle]=\"style()\"\r\n  [ngClass]=\"styleClass\"\r\n  [class.left]=\"orientation === 'left'\"\r\n  [class.right]=\"orientation === 'right'\"\r\n  [class.switch]=\"orientation === 'switch'\"\r\n  #wrapper\r\n>\r\n  <div class=\"om-timeline-entries\">\r\n    @for (item of templateData(); track $index) {\r\n      <div\r\n        class=\"om-timeline-entry\"\r\n        [ngClass]=\"{\r\n        'right-side':\r\n          orientation === 'right' || (orientation === 'switch' && $index % 2 !== 0),\r\n        'left-side':\r\n          orientation === 'left' || (orientation === 'switch' && $index % 2 === 0)\r\n      }\"\r\n        #entries\r\n      >\r\n        <div class=\"om-timeline-entry-header\">\r\n          <div class=\"om-timeline-circle\">\r\n            <div class=\"om-timeline-inner-circle\"></div>\r\n          </div>\r\n          <div class=\"om-timeline-entry-title\" [innerHTML]=\"item.title\"></div>\r\n        </div>\r\n        <div class=\"om-timeline-entry-content\" [innerHTML]=\"item.content\"></div>\r\n      </div>\r\n    }\r\n\r\n    <div class=\"om-timeline-line-wrapper\">\r\n      <svg\r\n        #timelineSvg\r\n        class=\"om-timeline-svg\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        [class.d-none]=\"orientation !== 'switch'\"\r\n      >\r\n        <defs>\r\n          <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n            <stop\r\n              offset=\"0%\"\r\n              style=\"stop-color: transparent; stop-opacity: 1\"\r\n            />\r\n            <stop\r\n              offset=\"10%\"\r\n              [style.stop-color]=\"gradientEnd\"\r\n              style=\"stop-opacity: 1\"\r\n            />\r\n            <stop\r\n              offset=\"90%\"\r\n              [style.stop-color]=\"gradientStart\"\r\n              style=\"stop-opacity: 1\"\r\n            />\r\n            <stop\r\n              offset=\"100%\"\r\n              style=\"stop-color: transparent; stop-opacity: 1\"\r\n            />\r\n          </linearGradient>\r\n          <linearGradient id=\"gradientBg\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n            <stop\r\n              offset=\"0%\"\r\n              style=\"stop-color: transparent; stop-opacity: 1\"\r\n            />\r\n            <stop\r\n              offset=\"10%\"\r\n              [style.stop-color]=\"pathColor\"\r\n              style=\"stop-opacity: 1\"\r\n            />\r\n            <stop\r\n              offset=\"90%\"\r\n              [style.stop-color]=\"pathColor\"\r\n              style=\"stop-opacity: 1\"\r\n            />\r\n            <stop\r\n              offset=\"100%\"\r\n              style=\"stop-color: transparent; stop-opacity: 1\"\r\n            />\r\n          </linearGradient>\r\n        </defs>\r\n        <path #timelinePath class=\"om-timeline-path\"></path>\r\n        <path #timelineGradientPath class=\"om-timeline-gradient-path\"></path>\r\n      </svg>\r\n\r\n      <div\r\n        class=\"om-timeline-line\"\r\n        #timelineBackground\r\n        [class.d-none]=\"orientation === 'switch'\"\r\n      >\r\n        <div #timelineLine class=\"om-timeline-motion\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","/*\r\n * Public API Surface of ngx-timeline\r\n */\r\n\r\nexport * from \"./lib/ngx-timeline.component\";\r\nexport * from \"./lib/ngx-timeline.types\";\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}